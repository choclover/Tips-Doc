
◎ SQLite3
# cd /mnt/sdcard/studentpal/db
# cd /data/data/com.studentpaladmin/databases
  cd databases
  
# sqlite3 studentpal_admin.db
# .help / 
# .table <table name> 
# .dump

# 查看表结构
# .header on (设置显示表头)
# select * from sqlite_master where type="table";
# select * from sqlite_master where type="table" and name="managed_devices";
# select * from sqlite_master where type="table" and name="access_categories";
Pattern: select * from sqlite_master where type="table" and name="<table name>";

# .schema <table name>
# .exit / .quit

# select count(*) from access_categories;
# select * from managed_device;

# Statements
select * from managed_device;
select installedAppsListVer, phone_no from managed_device;

# drop table access_rules;
# drop table access_categories;

# Tables
access_categories     android_metadata      managed_devices     
access_rules          managed_applications
admin_device          managed_apptypes   

final String create_managed_device_table_sql = new StringBuffer().append(
          "CREATE TABLE IF NOT EXISTS ").append(TABLE_NAME_MANAGED_DEVICE).append(
          "( _id INTEGER PRIMARY KEY AUTOINCREMENT ").append(
          ", " +TAGNAME_PHONE_NUM+       " TEXT").append(
          ", " +TAGNAME_PHONE_IMSI+      " TEXT").append(
          ", " +COL_NAME_APPSLIST_VERSION+  " INTEGER DEFAULT 0").append(
          ", " +COL_NAME_APPSLIST+          " TEXT DEFAULT NULL").append(
          ", " +COL_NAME_CATESLIST_VERSION+ " INTEGER DEFAULT 0").append(
          ", " +COL_NAME_IS_ACTIVE+         " INTEGER DEFAULT 0").append(
          ");").toString();
          
==================================================
◎ MySql
mysql -uroot -proot studentpal_admin < ./studentpal_admin.sql --default-character-set=utf8
mysqldump -uroot -proot studentpal_admin > ./studentpal_admin.sql --default-character-set=utf8

◎ Get Directories
  Environment.getDataDirectory();

◎ MDN / IMSI / IMEI
String myMDN = TelephonyManager.getLine1Number();

String myIMSI = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);
// within my emulator it returns:   310995000000000

String myIMEI = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMEI);
// within my emulator it returns:   000000000000000

◎ API Tips
  @. Activity.onCreateOptionsMenu(): 只会调用一次，在第一次显示Option菜单的时候。
  @. startActivity()
  @. Activity.setResult(int resultCode, Intent intent) -> call parent Activity.onActivityResult(int, resultCode, Intent);    (resultCode == RESULT_OK)
  If a child activity fails for any reason (such as crashing), the parent activity will receive a result with the code RESULT_CANCELED.

◎ 将Activity中的<category android:name="android.intent.category.LAUNCHER" />去掉，该application就不会在launcher顶层显示了。
   但这样也无法用Eclipse来debug了。

◎ Application的后台卸载
private void setIntentAndFinish(boolean finish, boolean appChanged) {
  if(localLOGV) Log.i(TAG, "appChanged="+appChanged);
  Intent intent = new Intent();
  intent.putExtra(ManageApplications.APP_CHG, appChanged);
  setResult(ManageApplications.RESULT_OK, intent);
  if(finish) {
    finish();
  }
}
(packageName 是包的完整名字)

◎ 判断未知源App是否允许安装
  private boolean isInstallingUnknownAppsAllowed() {
    return Settings.Secure.getInt(getContentResolver(),
           Settings.Secure.INSTALL_NON_MARKET_APPS, 0) > 0;
  }


◎◎◎◎◎◎◎◎◎◎◎



